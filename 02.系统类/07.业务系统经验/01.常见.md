### 业务唯一key实现

常见的实现方式是2中：

1. 外部服务/客户-生成并传入
2. 内部系统生成返回给客户

方案一：

优势：在需要做总请求量计数的时候，不会给客户多计。比如收费常见。

劣势：同步接口业务，在异常场景发生时。客户或许不能用相同的唯一key做重试。

- 解决方案：
  - 应对超时场景，我们记录检测结果，给客户提供同步查询接口。
  - 其他异常场景，人工介入

方案二：

优劣与方案一相反

劣势：业务请求被重试时，总数会比实际多。

- 解决方案：
  - 与客户对齐，保证客户理解自己重试会引起的问题。
  - 梳理链路上，哪些环节可能会重复，针对性解决。

### RMQ消息驱动--复杂业务流程推进

音视频异步审核链路