# kafka基本使用

## 创建Topic
新增Topic：指定2个分区，2个副本，副本数不能大于集群中Broker的数量

```
bin/kafka-topics.sh --create --zookeeper localhost:2181 --partitions 2 --replication-factor 1 --topic hello
```

## 查询Topic
查询Topic：查询Kafka中的所有Topic列表以及查看指定topic的详细信息
```
[root@CentOS-01 kafka_2.13-2.4.0]# bin/kafka-topics.sh --list --zookeeper localhost:2181
hello

[root@CentOS-01 kafka_2.13-2.4.0]# bin/kafka-topics.sh --describe --zookeeper localhost:2181 --topic hello
Topic: hello    PartitionCount: 2       ReplicationFactor: 1    Configs: 
        Topic: hello    Partition: 0    Leader: 0       Replicas: 0     Isr: 0
        Topic: hello    Partition: 1    Leader: 0       Replicas: 0     Isr: 0
```

## 修改Topic
修改Topic：修改Topic的Partition数量，只能增加
将Partition增加到5
```
bin/kafka-topics.sh --alter --zookeeper localhost:2101 --partitions 5 --topic hello
```

## 删除Topic
删除Topic：删除Kafka中指定Topic，删除操作是不可逆的

## 生产者和消费者
创建生产者：bin/kafka-console-producer.sh
创建消费者：bin/kafka-console-consumer.sh

```
bin/kafka-console-producer.sh --broker-list localhost:9092 --topic hello

bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic hello
```