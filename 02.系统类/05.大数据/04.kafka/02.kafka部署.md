# kafka部署

## 部署zookeeper
http://archive.apache.org/dist/zookeeper/zookeeper-3.5.8/apache-zookeeper-3.5.8-bin.tar.gz

### 1.修改配置
```shell
mv /apache-zookeeper-3.5.8-bin/conf/zoo_sample.cfg /apache-zookeeper-3.5.8-bin/conf/zoo.cfg
```
修改下面参数
```
dataDir=/application/apache-zookeeper-3.5.8-bin/data
```

### 2.启动zookeeper
```
# bin/zkServer.sh start

# jps
10986 QuorumPeerMain
```

### 3.zookeeper基本操作
```shell
bin/zkCli.sh         # 连接zookerper客户端
ls /                 # 查看根节点
create /test hello   # 创建test节点 并加入hello内容
get /test            # 查看节点的内容
deleteall /test      # 递归删除一个节点
```


## 部署kafka
- kafka需要依赖zookeeper

### 1.下载kafka
http://archive.apache.org/dist/kafka/2.4.1/kafka_2.13-2.4.1.tgz


### 2.修改配置 config/server.properties
```
log.dirs=/application/kafka_2.13-2.4.0/data
zookeeper.connect=localhost:2181
```

### 3.启动kafka
```
bin/kafka-server-start.sh -daemon config/server.properties
```