
# 自我介绍
面试官您好，我叫xxx，今天来面试后端开发工程师岗位，从事这一行有4年多时间。

之前在字节跳动任职，在字节内部有过一次职级晋升。主要从事内容安全系统建设，包括长视频审核系统、云视频会议审核系统建设等，是内容安全产品的主要研发角色。后面也参与过TikTok产品后端研发的工作，模板方向。

在字节主要使用的开发语言是go，3年前在小米有使用过一年java 如果团队使用Java 我也能比较快速熟悉起来，常用的中间件包括Mysql、Redis等主流数据库，Kafka、RocketMQ等消息中间件。
我对技术抱有热情，在字节工作期间，申请过2个专利。


# 描述一下第一个项目：

在TikTok团队主要做模版方向的后端研发。模版可以简单理解为一堆特效的打包。用户上传一些视频图片素材到模板，即可快速复用这些特效，生产一个高制作的短视频。我主要做2个事情，使用DSL流程模块化模板的下发服务，下发包括模板的运用信息(不同地区是否可以下发、分类信息)，地区的合规版权信息，用户隐私信息。
模板下发有不同的入口：模板广场、锚点、一件成片等。不同的入库涉及到不同的业务团队。所以DSL模块化有个根本目标是统一开发流程，代码规范。

标签系统介绍：所有模版创作后，都需要打标做分类，用于后续的分发场景。主要有2个关键事情，模板依据内置素材做视频合成(看看这个制作的模板，复用的效果是类似的)，将视频送到TCS平台做人工打标。项目中涉及到任务状态的变化。任务节点变化比较明确，没有使用消息队列。

历史的坑：
1. 2套ID系统
2. 团队不稳定换了3个领导

# 描述一下第二个项目：
多模态内容安全审核系统 是我在字节维护时间最长的一个项目。支持长视频，限制6小时，音频，图片，文本审核。以最复杂的视频为例，我们亚对一个视频审核。会将视频拆分为图片、音频段、文本这些模态分别审核，原视频的审核结果就是这些单模态的聚合。
产品接口上，用户提供视频URL，审核完成后，我们异步调用用户通知结果。约定时间2小时。
业务流程较多，为了保障任务的成功，异常恢复能力。技术实现上，使用的是工作流，各个任务节点使用RocketMQ串联。稳定性上主要使用RocketMQ 退避重试算法实现。继续深入细节，从一个任务提交开始，写入一条任务信息到Mysql，同时决定要审核的模态，写入多条模态审核任务到mysql另一张表，会先将原视频链接提交到内部的视频中台，做图片抽针，音频截断。这些事情做完之后，我们服务收到通知，生成各个图片、音频断的审核任务，发送一批mq消息。各个后续节点消费mq消息做审核任务，以图片为例，ocr提取文本，图片和文本一起送入规则引擎平台同步调用获取审核结果，然后这个结果存储在redis中，后续节点判断当前这个模态是否审核完毕，如果没有就正常退出，如果完毕就合并单模态的审核结果，然后写入Mysql模态任务表中，判断所有模态是否都成功，成功后合并所有模态结果到总任务表中。后续节点发送结果给用户，还有些后置处理，监控指标等。
